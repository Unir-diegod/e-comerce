# ============================================================================
# E-COMMERCE SYSTEM - ENVIRONMENT VARIABLES
# ============================================================================
# Este archivo es una plantilla. Copiar a .env y completar con valores reales.
# NUNCA commitear .env con credenciales reales al repositorio.
#
# Instrucciones:
# 1. Copiar este archivo: cp .env.example .env
# 2. Completar todas las variables según el entorno
# 3. Asegurar que .env esté en .gitignore
# ============================================================================

# ============================================================================
# DJANGO CONFIGURATION
# ============================================================================
# Clave secreta de Django (OBLIGATORIO cambiar en producción)
# Generar con: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
DJANGO_SECRET_KEY=your-secret-key-here-change-in-production

# Modo debug (True solo en desarrollo, False en producción)
DJANGO_DEBUG=True

# Hosts permitidos (separados por coma)
# Desarrollo: localhost,127.0.0.1
# Producción: yourdomain.com,www.yourdomain.com
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1

# Entorno de ejecución
# Valores: development, staging, production
DJANGO_ENV=development

# ============================================================================
# DATABASE CONFIGURATION - PostgreSQL
# ============================================================================
# Motor de base de datos (NO CAMBIAR para este proyecto)
DB_ENGINE=postgresql

# Nombre de la base de datos
# Desarrollo: ecommerce_db
# Staging: ecommerce_staging
# Producción: ecommerce_prod
DB_NAME=ecommerce_db

# Usuario de PostgreSQL
# IMPORTANTE: Crear usuario específico, NO usar postgres/root en producción
DB_USER=ecommerce_user

# Contraseña del usuario (OBLIGATORIO en todos los entornos)
# NUNCA usar contraseñas débiles o vacías
# Producción: Mínimo 16 caracteres, alfanumérico + símbolos
DB_PASSWORD=ecommerce_password_dev

# Host del servidor PostgreSQL
# Desarrollo: localhost
# Staging/Producción: IP o hostname del servidor
DB_HOST=localhost

# Puerto de PostgreSQL (por defecto 5432)
DB_PORT=5432

# Modo SSL para conexiones PostgreSQL
# - disable: Sin SSL (SOLO desarrollo local)
# - require: SSL obligatorio pero sin verificar certificado (staging)
# - verify-ca: Verificar certificado contra CA (producción recomendado)
# - verify-full: Verificación completa incluyendo hostname (máxima seguridad)
DB_SSL_MODE=disable

# Configuración avanzada de pool de conexiones
# Tiempo máximo que una conexión permanece abierta (segundos)
# 0 = cerrar después de cada request
# 600 = mantener abierta 10 minutos (recomendado para producción)
DB_CONN_MAX_AGE=600

# Envolver cada request en una transacción atómica
# True = mejor integridad de datos (recomendado)
# False = mejor performance en casos específicos
DB_ATOMIC_REQUESTS=True

# ============================================================================
# SEGURIDAD
# ============================================================================
# Clave secreta adicional para el sistema (si es necesaria)
SECRET_KEY=dev-secret-key-change-in-production

# ============================================================================
# LOGGING
# ============================================================================
# Nivel de logging
# Valores: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Formato de logs
# Valores: json, text
LOG_FORMAT=json

# Archivo de logs (opcional)
# Descomentar y configurar para producción
# LOG_FILE=/var/log/ecommerce/app.log

# ============================================================================
# NOTAS IMPORTANTES
# ============================================================================
# DESARROLLO:
# - Usar DB_SSL_MODE=disable
# - DJANGO_DEBUG=True
# - Contraseñas simples están OK
#
# STAGING:
# - Usar DB_SSL_MODE=require
# - DJANGO_DEBUG=False
# - Contraseñas fuertes
# - Hosts específicos en ALLOWED_HOSTS
#
# PRODUCCIÓN:
# - Usar DB_SSL_MODE=verify-ca o verify-full
# - DJANGO_DEBUG=False OBLIGATORIO
# - Contraseñas robustas (16+ caracteres)
# - ALLOWED_HOSTS con dominios específicos
# - SECRET_KEY generado aleatoriamente
# - Logs en archivo centralizado
# - Pool de conexiones configurado (CONN_MAX_AGE=600)
# ============================================================================


# FastAPI
API_HOST=0.0.0.0
API_PORT=8000

# Django
DJANGO_SETTINGS_MODULE=infrastructure.persistence.django.settings
